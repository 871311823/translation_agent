# æœåŠ¡å™¨æœåŠ¡åˆ†æžæŠ¥å‘Š (47.109.82.94)

## ðŸ“Š æ£€æŸ¥ç»“æžœæ€»ç»“

### âœ… å¯ä»¥å®‰å…¨å…³é—­çš„æœåŠ¡

#### 1. **accounts-daemon.service** âš ï¸ è¿è¡Œä¸­
- **æè¿°**: ç”¨æˆ·è´¦æˆ·æœåŠ¡ï¼ˆä¸»è¦ç”¨äºŽæ¡Œé¢çŽ¯å¢ƒï¼‰
- **çŠ¶æ€**: æ­£åœ¨è¿è¡Œï¼Œå ç”¨ 1.5M å†…å­˜
- **å»ºè®®**: æœåŠ¡å™¨çŽ¯å¢ƒé€šå¸¸ä¸éœ€è¦ï¼Œå¯ä»¥å…³é—­
- **å…³é—­å‘½ä»¤**:
  ```bash
  systemctl stop accounts-daemon.service
  systemctl disable accounts-daemon.service
  ```

#### 2. **unattended-upgrades.service** âš ï¸ è¿è¡Œä¸­
- **æè¿°**: è‡ªåŠ¨æ›´æ–°æœåŠ¡
- **çŠ¶æ€**: æ­£åœ¨è¿è¡Œï¼Œå ç”¨ 520K å†…å­˜
- **å»ºè®®**: å¦‚æžœæ‰‹åŠ¨ç®¡ç†ç³»ç»Ÿæ›´æ–°ï¼Œå¯ä»¥å…³é—­
- **å…³é—­å‘½ä»¤**:
  ```bash
  systemctl stop unattended-upgrades.service
  systemctl disable unattended-upgrades.service
  ```
- **æ³¨æ„**: å…³é—­åŽéœ€è¦æ‰‹åŠ¨æ‰§è¡Œ `apt update && apt upgrade`

#### 3. **systemd-networkd-wait-online.service** âš ï¸ å·²å¯ç”¨
- **æè¿°**: ç­‰å¾…ç½‘ç»œé…ç½®å®Œæˆ
- **çŠ¶æ€**: å·²å¯ç”¨ï¼ˆå·²å®Œæˆï¼Œä¸å†è¿è¡Œï¼‰
- **å»ºè®®**: å¦‚æžœç½‘ç»œé…ç½®ç¨³å®šï¼Œå¯ä»¥ç¦ç”¨
- **å…³é—­å‘½ä»¤**:
  ```bash
  systemctl disable systemd-networkd-wait-online.service
  ```

### âš ï¸ éœ€è¦è°¨æ…Žè€ƒè™‘çš„æœåŠ¡

#### 4. **console-setup.service** - å·²å¯ç”¨
- **æè¿°**: æŽ§åˆ¶å°è®¾ç½®æœåŠ¡
- **å»ºè®®**: çº¯æœåŠ¡å™¨çŽ¯å¢ƒå¯ä»¥ç¦ç”¨ï¼Œä½†å¦‚æžœéœ€è¦æŽ§åˆ¶å°è®¿é—®å»ºè®®ä¿ç•™

#### 5. **keyboard-setup.service** - å·²å¯ç”¨
- **æè¿°**: é”®ç›˜è®¾ç½®æœåŠ¡
- **å»ºè®®**: çº¯æœåŠ¡å™¨çŽ¯å¢ƒå¯ä»¥ç¦ç”¨

#### 6. **setvtrgb.service** - å·²å¯ç”¨
- **æè¿°**: è™šæ‹Ÿç»ˆç«¯é¢œè‰²è®¾ç½®
- **å»ºè®®**: çº¯æœåŠ¡å™¨çŽ¯å¢ƒå¯ä»¥ç¦ç”¨

### ðŸ”’ å¿…é¡»ä¿ç•™çš„æœåŠ¡ï¼ˆä¸è¦å…³é—­ï¼‰

- `ssh.service` / `sshd.service` - SSHæœåŠ¡ï¼ˆå…³é—­åŽæ— æ³•è¿œç¨‹è¿žæŽ¥ï¼‰
- `systemd-networkd.service` - ç½‘ç»œæœåŠ¡
- `docker.service` - DockeræœåŠ¡ï¼ˆå¦‚æžœä½¿ç”¨ï¼‰
- `mongodb.service` - MongoDBæ•°æ®åº“ï¼ˆå¦‚æžœä½¿ç”¨ï¼‰
- `mysqld.service` - MySQLæ•°æ®åº“ï¼ˆå¦‚æžœä½¿ç”¨ï¼‰
- `php-fpm-81.service` - PHP-FPMï¼ˆå¦‚æžœä½¿ç”¨ï¼‰
- `clash.service` / `v2ray.service` / `warp-svc.service` - ä»£ç†æœåŠ¡ï¼ˆå¦‚æžœä½¿ç”¨ï¼‰
- `aegis.service` / `aliyun.service` - é˜¿é‡Œäº‘æœåŠ¡ï¼ˆå»ºè®®ä¿ç•™ï¼‰

## ðŸ› ï¸ æ‰¹é‡å…³é—­è„šæœ¬

åˆ›å»ºä¸€ä¸ªå®‰å…¨çš„å…³é—­è„šæœ¬ï¼š

```bash
cat > /tmp/disable_unnecessary_services.sh << 'EOF'
#!/bin/bash
# å…³é—­ä¸å¿…è¦çš„æœåŠ¡è„šæœ¬

echo "å¼€å§‹å…³é—­ä¸å¿…è¦çš„æœåŠ¡..."

# 1. accounts-daemon - ç”¨æˆ·è´¦æˆ·æœåŠ¡
echo "å…³é—­ accounts-daemon.service..."
systemctl stop accounts-daemon.service
systemctl disable accounts-daemon.service

# 2. unattended-upgrades - è‡ªåŠ¨æ›´æ–°ï¼ˆå¯é€‰ï¼‰
echo "å…³é—­ unattended-upgrades.service..."
systemctl stop unattended-upgrades.service
systemctl disable unattended-upgrades.service

# 3. systemd-networkd-wait-online - ç½‘ç»œç­‰å¾…
echo "ç¦ç”¨ systemd-networkd-wait-online.service..."
systemctl disable systemd-networkd-wait-online.service

# 4. console-setup - æŽ§åˆ¶å°è®¾ç½®ï¼ˆå¯é€‰ï¼‰
echo "ç¦ç”¨ console-setup.service..."
systemctl disable console-setup.service

# 5. keyboard-setup - é”®ç›˜è®¾ç½®ï¼ˆå¯é€‰ï¼‰
echo "ç¦ç”¨ keyboard-setup.service..."
systemctl disable keyboard-setup.service

# 6. setvtrgb - ç»ˆç«¯é¢œè‰²ï¼ˆå¯é€‰ï¼‰
echo "ç¦ç”¨ setvtrgb.service..."
systemctl disable setvtrgb.service

echo ""
echo "å®Œæˆï¼å·²å…³é—­çš„æœåŠ¡ï¼š"
systemctl list-units --type=service --state=inactive --no-pager | grep -E "accounts-daemon|unattended-upgrades"
echo ""
echo "å·²ç¦ç”¨çš„æœåŠ¡ï¼š"
systemctl list-unit-files --type=service --state=disabled --no-pager | grep -E "accounts-daemon|unattended-upgrades|systemd-networkd-wait-online|console-setup|keyboard-setup|setvtrgb"
EOF

chmod +x /tmp/disable_unnecessary_services.sh
```

## ðŸ“ æ‰§è¡Œå»ºè®®

### æ–¹æ¡ˆ1ï¼šä¿å®ˆæ–¹æ¡ˆï¼ˆæŽ¨èï¼‰
åªå…³é—­æ˜Žç¡®ä¸éœ€è¦çš„æœåŠ¡ï¼š
```bash
systemctl stop accounts-daemon.service
systemctl disable accounts-daemon.service
systemctl disable systemd-networkd-wait-online.service
```

### æ–¹æ¡ˆ2ï¼šå®Œæ•´æ–¹æ¡ˆ
å…³é—­æ‰€æœ‰ä¸å¿…è¦çš„æœåŠ¡ï¼ˆåŒ…æ‹¬è‡ªåŠ¨æ›´æ–°ï¼‰ï¼š
```bash
# æ‰§è¡Œä¸Šé¢çš„æ‰¹é‡å…³é—­è„šæœ¬
/tmp/disable_unnecessary_services.sh
```

## âš¡ èµ„æºèŠ‚çœä¼°ç®—

- **accounts-daemon**: ~1.5M å†…å­˜
- **unattended-upgrades**: ~520K å†…å­˜
- **æ€»è®¡**: çº¦èŠ‚çœ 2M å†…å­˜ï¼ˆè™½ç„¶ä¸å¤šï¼Œä½†å¯ä»¥æ¸…ç†ç³»ç»Ÿï¼‰

## ðŸ” éªŒè¯å‘½ä»¤

å…³é—­åŽéªŒè¯ï¼š
```bash
# æ£€æŸ¥å·²ç¦ç”¨çš„æœåŠ¡
systemctl list-unit-files --type=service --state=disabled --no-pager | grep -E "accounts-daemon|unattended-upgrades"

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status accounts-daemon.service
systemctl status unattended-upgrades.service
```


